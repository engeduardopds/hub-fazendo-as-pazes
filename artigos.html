<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca de Artigos | Hub Fazendo as Pazes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Checkbox Customizado */
        .filter-checkbox:checked + div {
            background-color: #0d9488; /* teal-600 */
            border-color: #0d9488;
        }
        .filter-checkbox:checked + div svg {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="container mx-auto px-6 h-16 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-2 hover:opacity-80 transition">
                <div class="w-8 h-8 bg-teal-600 rounded-lg flex items-center justify-center text-white font-bold">FP</div>
                <span class="font-bold text-lg tracking-tight">Hub Fazendo as Pazes</span>
            </a>
            
            <a href="index.html" class="text-sm font-medium text-gray-500 hover:text-teal-600 flex items-center gap-2">
                <i class="fa-solid fa-store"></i> Ir para a Loja
            </a>
        </div>
    </header>

    <div class="flex flex-col md:flex-row flex-grow container mx-auto px-6 py-8 gap-8 max-w-7xl">
        
        <!-- SIDEBAR DE FILTROS (Esquerda) -->
        <aside class="w-full md:w-64 flex-shrink-0">
            <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm sticky top-24">
                <h3 class="font-bold text-lg mb-4 text-gray-800 flex items-center gap-2">
                    <i class="fa-solid fa-filter text-teal-600"></i> Filtros
                </h3>
                
                <div class="space-y-3">
                    <label class="cursor-pointer flex items-center gap-3 group">
                        <div class="relative">
                            <input type="checkbox" class="filter-checkbox sr-only" value="tdah" checked onchange="filterArticles()">
                            <div class="w-5 h-5 border-2 border-gray-300 rounded bg-white transition flex items-center justify-center group-hover:border-teal-400">
                                <svg class="w-3 h-3 text-white hidden pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                        </div>
                        <span class="text-sm text-gray-600 group-hover:text-teal-700">TDAH</span>
                    </label>

                    <label class="cursor-pointer flex items-center gap-3 group">
                        <div class="relative">
                            <input type="checkbox" class="filter-checkbox sr-only" value="autismo" checked onchange="filterArticles()">
                            <div class="w-5 h-5 border-2 border-gray-300 rounded bg-white transition flex items-center justify-center group-hover:border-teal-400">
                                <svg class="w-3 h-3 text-white hidden pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                        </div>
                        <span class="text-sm text-gray-600 group-hover:text-teal-700">Autismo</span>
                    </label>

                    <label class="cursor-pointer flex items-center gap-3 group">
                        <div class="relative">
                            <input type="checkbox" class="filter-checkbox sr-only" value="bipolaridade" checked onchange="filterArticles()">
                            <div class="w-5 h-5 border-2 border-gray-300 rounded bg-white transition flex items-center justify-center group-hover:border-teal-400">
                                <svg class="w-3 h-3 text-white hidden pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                        </div>
                        <span class="text-sm text-gray-600 group-hover:text-teal-700">Bipolaridade</span>
                    </label>

                    <label class="cursor-pointer flex items-center gap-3 group">
                        <div class="relative">
                            <input type="checkbox" class="filter-checkbox sr-only" value="ansiedade" checked onchange="filterArticles()">
                            <div class="w-5 h-5 border-2 border-gray-300 rounded bg-white transition flex items-center justify-center group-hover:border-teal-400">
                                <svg class="w-3 h-3 text-white hidden pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                        </div>
                        <span class="text-sm text-gray-600 group-hover:text-teal-700">Ansiedade</span>
                    </label>
                    
                    <label class="cursor-pointer flex items-center gap-3 group">
                        <div class="relative">
                            <input type="checkbox" class="filter-checkbox sr-only" value="rotina" checked onchange="filterArticles()">
                            <div class="w-5 h-5 border-2 border-gray-300 rounded bg-white transition flex items-center justify-center group-hover:border-teal-400">
                                <svg class="w-3 h-3 text-white hidden pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                        </div>
                        <span class="text-sm text-gray-600 group-hover:text-teal-700">Rotina & OrganizaÃ§Ã£o</span>
                    </label>
                </div>

                <div class="mt-6 pt-6 border-t border-gray-100">
                    <p class="text-xs text-gray-400">Mostrando <span id="count-display" class="font-bold text-teal-600">0</span> artigos</p>
                </div>
            </div>
        </aside>

        <!-- ÃREA PRINCIPAL -->
        <section class="flex-grow">
            
            <!-- VIEW LISTA -->
            <div id="view-list" class="fade-in">
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-gray-900">Biblioteca de Artigos</h1>
                    <p class="text-gray-600 mt-2">Explore nosso acervo de conhecimento cientÃ­fico e prÃ¡tico.</p>
                </div>

                <!-- Grid de Artigos -->
                <div id="articles-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Cards injetados via JS -->
                </div>
                
                <!-- Estado Vazio -->
                <div id="empty-state" class="hidden text-center py-20">
                    <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 text-gray-400 mb-4">
                        <i class="fa-solid fa-magnifying-glass text-2xl"></i>
                    </div>
                    <h3 class="text-lg font-bold text-gray-700">Nenhum artigo encontrado</h3>
                    <p class="text-gray-500">Tente selecionar outros filtros.</p>
                </div>
            </div>

            <!-- VIEW DETALHE (Escondida inicialmente) -->
            <div id="view-detail" class="hidden fade-in">
                <button onclick="closeDetail()" class="mb-6 text-sm text-gray-500 hover:text-teal-600 flex items-center gap-2 font-medium">
                    <i class="fa-solid fa-arrow-left"></i> Voltar para a lista
                </button>

                <article class="bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden">
                    <!-- Capa -->
                    <div class="h-64 bg-teal-50 flex items-center justify-center relative">
                        <span id="detail-icon" class="text-8xl">ðŸ“„</span>
                        <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
                        <h1 id="detail-title" class="absolute bottom-6 left-8 right-8 text-3xl font-bold text-white drop-shadow-md">TÃ­tulo do Artigo</h1>
                    </div>

                    <div class="p-8 md:p-12">
                        <!-- Tags -->
                        <div id="detail-tags" class="flex flex-wrap gap-2 mb-6"></div>

                        <!-- ConteÃºdo -->
                        <div class="prose max-w-none text-gray-600 leading-relaxed mb-10">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">Sobre este material</h3>
                            <p id="detail-summary">Resumo do artigo vai aqui...</p>
                        </div>

                        <!-- BotÃ£o Download -->
                        <div class="bg-gray-50 p-6 rounded-xl border border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-4">
                            <div>
                                <p class="font-bold text-gray-900">Download Gratuito</p>
                                <p class="text-sm text-gray-500">Formato PDF â€¢ Acesso imediato</p>
                            </div>
                            <a id="detail-download" href="#" target="_blank" class="bg-teal-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-teal-700 transition shadow-md flex items-center gap-2">
                                <i class="fa-solid fa-download"></i> Baixar Agora
                            </a>
                        </div>
                    </div>
                </article>
            </div>

        </section>
    </div>

    <footer class="bg-white border-t border-gray-200 py-8 mt-auto">
        <div class="container mx-auto px-6 text-center text-sm text-gray-500">&copy; 2025 Hub Fazendo as Pazes.</div>
    </footer>

    <script>
        // --- BANCO DE DADOS DE ARTIGOS ---
        // Aqui vocÃª adiciona seus arquivos.
        // categories: deve bater com os 'value' dos checkboxes no HTML (tdah, autismo, bipolaridade, ansiedade, rotina)
        const articlesDB = [
            {
                id: 1,
                title: "O CÃ©rebro TDAH: Entendendo a Dopamina",
                summary: "Um artigo cientÃ­fico traduzido para linguagem simples que explica por que a falta de dopamina afeta a motivaÃ§Ã£o e o foco, e estratÃ©gias nÃ£o-medicamentosas para lidar com isso.",
                categories: ["tdah"],
                icon: "ðŸ§ ",
                file: "biblioteca/artigo-cerebro-tdah.pdf"
            },
            {
                id: 2,
                title: "Guia de SobrevivÃªncia para Crises de Ansiedade",
                summary: "TÃ©cnicas de 'grounding' (aterramento) e respiraÃ§Ã£o para utilizar no momento exato de uma crise de pÃ¢nico ou ansiedade elevada.",
                categories: ["ansiedade"],
                icon: "ðŸŒ¬ï¸",
                file: "biblioteca/guia-ansiedade.pdf"
            },
            {
                id: 3,
                title: "Rotina Visual para Autistas e TDAH",
                summary: "Como criar quadros visuais que ajudam na organizaÃ§Ã£o temporal e reduzem a ansiedade do dia a dia. Inclui modelos para imprimir.",
                categories: ["autismo", "tdah", "rotina"],
                icon: "ðŸ“…",
                file: "biblioteca/rotina-visual.pdf"
            },
            {
                id: 4,
                title: "Bipolaridade x TDAH: As DiferenÃ§as",
                summary: "Muitas vezes confundidos, estes dois diagnÃ³sticos tÃªm particularidades importantes. Saiba diferenciar as oscilaÃ§Ãµes de humor da impulsividade.",
                categories: ["bipolaridade", "tdah"],
                icon: "âš–ï¸",
                file: "biblioteca/bipolaridade-tdah.pdf"
            },
            {
                id: 5,
                title: "Manual de Higiene do Sono",
                summary: "Um passo a passo para regular o ciclo circadiano, essencial para quem sofre de transtornos de humor ou de atenÃ§Ã£o.",
                categories: ["rotina", "ansiedade"],
                icon: "ðŸ’¤",
                file: "biblioteca/higiene-sono.pdf"
            }
        ];

        // --- LÃ“GICA DO SISTEMA ---
        
        function init() {
            filterArticles();
        }

        function filterArticles() {
            // 1. Pegar categorias selecionadas
            const checkboxes = document.querySelectorAll('.filter-checkbox:checked');
            const selectedCategories = Array.from(checkboxes).map(cb => cb.value);

            // 2. Filtrar DB
            const filtered = articlesDB.filter(artigo => {
                // Se o artigo tiver Pelo MENOS UMA das categorias marcadas, ele aparece.
                return artigo.categories.some(cat => selectedCategories.includes(cat));
            });

            // 3. Renderizar
            renderGrid(filtered);
        }

        function renderGrid(articles) {
            const grid = document.getElementById('articles-grid');
            const empty = document.getElementById('empty-state');
            const count = document.getElementById('count-display');
            
            grid.innerHTML = '';
            count.textContent = articles.length;

            if (articles.length === 0) {
                grid.classList.add('hidden');
                empty.classList.remove('hidden');
                return;
            }

            grid.classList.remove('hidden');
            empty.classList.add('hidden');

            articles.forEach(artigo => {
                // Cria as tags coloridas
                const tagsHtml = artigo.categories.map(cat => 
                    `<span class="text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded bg-teal-50 text-teal-700 border border-teal-100">${cat}</span>`
                ).join('');

                const card = document.createElement('div');
                card.className = "bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition cursor-pointer flex flex-col group h-full";
                card.onclick = () => openDetail(artigo);
                
                card.innerHTML = `
                    <div class="h-40 bg-gray-50 rounded-t-xl flex items-center justify-center text-5xl group-hover:scale-105 transition duration-300 border-b border-gray-100">
                        ${artigo.icon}
                    </div>
                    <div class="p-6 flex flex-col flex-grow">
                        <div class="flex flex-wrap gap-2 mb-3">
                            ${tagsHtml}
                        </div>
                        <h3 class="font-bold text-gray-900 text-lg mb-2 leading-tight group-hover:text-teal-700 transition">${artigo.title}</h3>
                        <p class="text-sm text-gray-500 line-clamp-3 mb-4 flex-grow">${artigo.summary}</p>
                        <div class="pt-4 border-t border-gray-100 flex items-center text-teal-600 font-bold text-sm">
                            Ver detalhes <i class="fa-solid fa-arrow-right ml-2 text-xs transition group-hover:translate-x-1"></i>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function openDetail(artigo) {
            // Preenche os dados
            document.getElementById('detail-icon').textContent = artigo.icon;
            document.getElementById('detail-title').textContent = artigo.title;
            document.getElementById('detail-summary').textContent = artigo.summary;
            document.getElementById('detail-download').href = artigo.file;

            // Tags na pÃ¡gina de detalhe
            const tagsContainer = document.getElementById('detail-tags');
            tagsContainer.innerHTML = artigo.categories.map(cat => 
                `<span class="text-xs font-bold uppercase tracking-wider px-3 py-1 rounded-full bg-white/90 text-teal-800 shadow-sm">${cat}</span>`
            ).join('');

            // Troca a View
            document.getElementById('view-list').classList.add('hidden');
            document.getElementById('view-detail').classList.remove('hidden');
            window.scrollTo(0,0);
        }

        function closeDetail() {
            document.getElementById('view-detail').classList.add('hidden');
            document.getElementById('view-list').classList.remove('hidden');
            window.scrollTo(0,0);
        }

        // Inicia
        init();

    </script>
</body>
</html>
